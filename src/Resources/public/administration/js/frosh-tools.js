!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/froshtools/",n(n.s="GplC")}({"+9UQ":function(e,t,n){},"4Y72":function(e,t,n){var r=n("bWis");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("a8a16a6e",r,!0,{})},"56Dd":function(e,t,n){},"5dCT":function(e,t,n){},"7AKr":function(e,t,n){},"9DpS":function(e,t,n){var r=n("5dCT");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("4958f1d4",r,!0,{})},"9edp":function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-files__files-card" :class="isLoadingClass" :title="$tc(\'frosh-tools.tabs.files.title\')" :isLoading="isLoading" :large="true">\n        <sw-alert variant="error" v-if="items.error">{{ items.error }}</sw-alert>\n\n        <sw-alert variant="success" v-if="items.ok">{{ $tc(\'frosh-tools.tabs.files.allFilesOk\') }}</sw-alert>\n        <sw-alert variant="warning" v-else-if="items.files">{{ $tc(\'frosh-tools.tabs.files.notOk\') }}</sw-alert>\n\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-data-grid\n            v-if="items.files"\n            :showSelection="false"\n            :dataSource="items.files"\n            :columns="columns">\n\n            <template #actions="{ item }">\n                <sw-context-menu-item @click="openUrl(item.shopwareUrl)">\n                    {{ $tc(\'frosh-tools.tabs.files.openOriginal\') }}\n                </sw-context-menu-item>\n                <sw-context-menu-item @click="diff(item.name, item.content, item.originalContent)">\n                    {{ $tc(\'frosh-tools.tabs.files.restore.diff\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </sw-card>\n\n    <sw-modal v-if="showModal"\n        variant="large"\n        @modal-close="closeModal"\n        :title="diffData.file">\n\n        <span style="white-space: pre" v-html="diffData.html"></span>\n\n        <template slot="modal-footer">\n            <sw-button variant="ghost-danger" @click="restoreFile(diffData.file)">\n                <sw-icon name="default-badge-warning"></sw-icon>\n                {{ $tc(\'frosh-tools.tabs.files.restore.restoreFile\') }}\n            </sw-button>\n        </template>\n    </sw-modal>\n</sw-card-view>\n'},BJOE:function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-cache__cache-card" :title="$tc(\'frosh-tools.tabs.cache.title\')" :isLoading="isLoading" :large="true">\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="createdComponent"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-data-grid\n            :showSelection="false"\n            :dataSource="cacheFolders"\n            :columns="columns"\n        >\n\n            <template #column-name="{ item }">\n                <sw-label variant="success" appearance="pill" v-if="item.active" >\n                    {{ $tc(\'frosh-tools.active\') }}\n                </sw-label>\n                <sw-label variant="primary" appearance="pill" v-if="item.type" >\n                    {{ item.type }}\n                </sw-label>\n                {{ item.name }}\n            </template>\n\n            <template #column-size="{ item }">\n                <template v-if="item.size < 0">\n                    unknown\n                </template>\n                <template v-else>\n                    {{ formatSize(item.size) }}\n                </template>\n            </template>\n\n            <template #column-freeSpace="{ item }">\n                <template v-if="item.freeSpace < 0">\n                    unknown\n                </template>\n                <template v-else>\n                    {{ formatSize(item.freeSpace) }}\n                </template>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item variant="danger" @click="clearCache(item)">\n                    {{ $tc(\'frosh-tools.clear\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </sw-card>\n\n    <sw-card class="frosh-tools-tab-cache__action-card" :title="$tc(\'frosh-tools.actions\')" :isLoading="isLoading" :large="true">\n        <sw-button variant="primary" @click="compileTheme">{{ $tc(\'frosh-tools.compileTheme\') }}</sw-button>\n    </sw-card>\n</sw-card-view>\n'},GdrT:function(e,t,n){var r=n("lnCV");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("f64b6e36",r,!0,{})},GplC:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t);var u=Shopware.Classes.ApiService,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,n,r,c=s(l);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_action/frosh-tools";return a(this,l),c.call(this,e,t,n)}return t=l,(n=[{key:"getCacheInfo",value:function(){var e="".concat(this.getApiBasePath(),"/cache");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"clearCache",value:function(e){var t="".concat(this.getApiBasePath(),"/cache/").concat(e);return this.httpClient.delete(t,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"getQueue",value:function(){var e="".concat(this.getApiBasePath(),"/queue/list");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"resetQueue",value:function(){var e="".concat(this.getApiBasePath(),"/queue");return this.httpClient.delete(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"runScheduledTask",value:function(e){var t="".concat(this.getApiBasePath(),"/scheduled-task/").concat(e);return this.httpClient.post(t,{},{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"healthStatus",value:function(){var e="".concat(this.getApiBasePath(),"/health/status");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"performanceStatus",value:function(){var e="".concat(this.getApiBasePath(),"/performance/status");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"getLogFiles",value:function(){var e="".concat(this.getApiBasePath(),"/logs/files");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"getLogFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r="".concat(this.getApiBasePath(),"/logs/file");return this.httpClient.get(r,{params:{file:e,offset:t,limit:n},headers:this.getBasicHeaders()}).then((function(e){return e}))}},{key:"getShopwareFiles",value:function(){var e="".concat(this.getApiBasePath(),"/shopware-files");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return e}))}},{key:"restoreShopwareFile",value:function(e){var t="".concat(this.getApiBasePath(),"/shopware-file/restore");return this.httpClient.get(t,{params:{file:e},headers:this.getBasicHeaders()}).then((function(e){return e}))}},{key:"getFeatureFlags",value:function(){var e="".concat(this.getApiBasePath(),"/feature-flag/list");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}},{key:"toggleFeatureFlag",value:function(e){var t="".concat(this.getApiBasePath(),"/feature-flag/toggle");return this.httpClient.post(t,{flag:e},{headers:this.getBasicHeaders()}).then((function(e){return u.handleResponse(e)}))}}])&&o(t.prototype,n),r&&o(t,r),l}(u);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var a=x(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=Shopware.Classes.ApiService,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,e);var t,n,r,a=b(o);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_action/frosh-tools/elasticsearch";return m(this,o),a.call(this,e,t,n)}return t=o,(n=[{key:"status",value:function(){var e="".concat(this.getApiBasePath(),"/status");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"indices",value:function(){var e="".concat(this.getApiBasePath(),"/indices");return this.httpClient.get(e,{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"deleteIndex",value:function(e){var t="".concat(this.getApiBasePath(),"/index/")+e;return this.httpClient.delete(t,{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"console",value:function(e,t,n){var r="".concat(this.getApiBasePath(),"/console")+t;return this.httpClient.request({url:r,method:e,headers:d(d({},this.getBasicHeaders()),{},{"content-type":"application/json"}),data:n}).then((function(e){return _.handleResponse(e)}))}},{key:"flushAll",value:function(){var e="".concat(this.getApiBasePath(),"/flush_all");return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"reindex",value:function(){var e="".concat(this.getApiBasePath(),"/reindex");return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"switchAlias",value:function(){var e="".concat(this.getApiBasePath(),"/switch_alias");return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"cleanup",value:function(){var e="".concat(this.getApiBasePath(),"/cleanup");return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}},{key:"reset",value:function(){var e="".concat(this.getApiBasePath(),"/reset");return this.httpClient.post(e,{},{headers:this.getBasicHeaders()}).then((function(e){return _.handleResponse(e)}))}}])&&v(t.prototype,n),r&&v(t,r),o}(_),k=Shopware.Application;k.addServiceProvider("froshToolsService",(function(e){var t=k.getContainer("init");return new f(t.httpClient,e.loginService)})),k.addServiceProvider("froshElasticSearch",(function(e){var t=k.getContainer("init");return new S(t.httpClient,e.loginService)}));var R=n("zeas"),C=n.n(R);Shopware.Component.override("sw-data-grid-inline-edit",{template:C.a});var A=n("pFDU"),M=n.n(A);function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,s,"next",e)}function s(e){E(o,r,a,i,s,"throw",e)}i(void 0)}))}}Shopware.Component.override("sw-version",{template:M.a,inject:["froshToolsService"],created:function(){var e=this;return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkHealth();case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{health:null}},computed:{healthVariant:function(){var e,t="success",n=D(this.health);try{for(n.s();!(e=n.n()).done;){var r=e.value;"STATE_ERROR"!==r.state?"STATE_WARNING"===r.state&&"success"===t&&(t="warning"):t="error"}}catch(e){n.e(e)}finally{n.f()}return t},healthPlaceholder:function(){var e="Shop Status: Ok";if(null===this.health)return e;var t,n=D(this.health);try{for(n.s();!(t=n.n()).done;){var r=t.value;"STATE_ERROR"!==r.state?"STATE_WARNING"===r.state&&"Shop Status: Ok"===e&&(e="Shop Status: Issues, Check System Status"):e="Shop Status: May outage, Check System Status"}}catch(e){n.e(e)}finally{n.f()}return e}},methods:{checkHealth:function(){var e=this;return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.healthStatus();case 2:e.health=t.sent,setInterval(P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.healthStatus();case 2:e.health=t.sent;case 3:case"end":return t.stop()}}),t)}))),3e4);case 4:case"end":return t.stop()}}),t)})))()}}});var L=n("RJE7"),O=n.n(L);n("NNZ9");function B(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){B(o,r,a,i,s,"next",e)}function s(e){B(o,r,a,i,s,"throw",e)}i(void 0)}))}}Shopware.Component.register("frosh-tools-tab-index",{inject:["froshToolsService"],template:O.a,data:function(){return{isLoading:!0,health:null,performanceStatus:null}},created:function(){this.createdComponent()},computed:{columns:function(){return[{property:"name",label:"frosh-tools.name",rawData:!0},{property:"current",label:"frosh-tools.current",rawData:!0},{property:"recommended",label:"frosh-tools.recommended",rawData:!0}]}},methods:{refresh:function(){var e=this;return j(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.createdComponent();case 3:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return j(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.healthStatus();case 2:return e.health=t.sent,t.next=5,e.froshToolsService.performanceStatus();case 5:e.performanceStatus=t.sent,e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()}}});var F=n("BJOE"),I=n.n(F);n("9DpS");function $(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,s,"next",e)}function s(e){H(o,r,a,i,s,"throw",e)}i(void 0)}))}}var z=Shopware,q=z.Component,Q=z.Mixin,Z=Shopware.Data.Criteria;q.register("frosh-tools-tab-cache",{template:I.a,inject:["froshToolsService","repositoryFactory","themeService"],mixins:[Q.getByName("notification")],data:function(){return{cacheInfo:null,isLoading:!0,numberFormater:null}},created:function(){var e=this;return U(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Shopware.Application.getContainer("factory").locale.getLastKnownLocale(),e.numberFormater=new Intl.NumberFormat(n,{minimumFractionDigits:2,maximumFractionDigits:2}),e.createdComponent();case 3:case"end":return t.stop()}}),t)})))()},computed:{columns:function(){return[{property:"name",label:"frosh-tools.name",rawData:!0},{property:"size",label:"frosh-tools.used",rawData:!0,align:"right"},{property:"freeSpace",label:"frosh-tools.free",rawData:!0,align:"right"}]},cacheFolders:function(){return null===this.cacheInfo?[]:this.cacheInfo},salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")}},methods:{createdComponent:function(){var e=this;return U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.froshToolsService.getCacheInfo();case 3:e.cacheInfo=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},formatSize:function(e){return e/=1048576,this.numberFormater.format(e)+" MiB"},clearCache:function(e){var t=this;return U(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,t.froshToolsService.clearCache(e.name);case 3:return n.next=5,t.createdComponent();case 5:case"end":return n.stop()}}),n)})))()},compileTheme:function(){var e=this;return U(regeneratorRuntime.mark((function t(){var n,r,a,o,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Z).addAssociation("themes"),e.isLoading=!0,t.next=5,e.salesChannelRepository.search(n,Shopware.Context.api);case 5:r=t.sent,a=$(r),t.prev=7,a.s();case 9:if((o=a.n()).done){t.next=18;break}if(i=o.value,!(s=i.extensions.themes.first())){t.next=16;break}return t.next=15,e.themeService.assignTheme(s.id,i.id);case 15:e.createNotificationSuccess({message:"".concat(i.translated.name)+": "+e.$tc("frosh-tools.themeCompiled")});case 16:t.next=9;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(7),a.e(t.t0);case 23:return t.prev=23,a.f(),t.finish(23);case 26:e.isLoading=!1;case 27:case"end":return t.stop()}}),t,null,[[7,20,23,26]])})))()}}});var G=n("UsKV"),V=n.n(G);n("GdrT");function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){J(o,r,a,i,s,"next",e)}function s(e){J(o,r,a,i,s,"throw",e)}i(void 0)}))}}var X=Shopware,ee=X.Component,te=X.Mixin;Shopware.Data.Criteria;ee.register("frosh-tools-tab-queue",{template:V.a,inject:["repositoryFactory","froshToolsService"],mixins:[te.getByName("notification")],data:function(){return{queueEntries:null,showResetModal:!1,isLoading:!0}},created:function(){this.createdComponent()},computed:{columns:function(){return[{property:"name",label:"Name",rawData:!0},{property:"size",label:"Size",rawData:!0}]}},methods:{refresh:function(){var e=this;return Y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.createdComponent();case 3:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return Y(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.getQueue();case 2:e.queueEntries=t.sent,n=K(e.queueEntries);try{for(n.s();!(r=n.n()).done;)a=r.value,o=a.name.split("\\"),a.name=o[o.length-1]}catch(e){n.e(e)}finally{n.f()}e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},resetQueue:function(){var e=this;return Y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.froshToolsService.resetQueue();case 3:e.showResetModal=!1,e.createdComponent(),e.createNotificationSuccess({message:"The queue has been cleared"}),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()}}});var ne=n("cLQT"),re=n.n(ne);n("4Y72");function ae(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ae(o,r,a,i,s,"next",e)}function s(e){ae(o,r,a,i,s,"throw",e)}i(void 0)}))}}var ie=Shopware,se=ie.Component,ce=ie.Mixin,le=Shopware.Data.Criteria;se.register("frosh-tools-tab-scheduled",{template:re.a,inject:["repositoryFactory","froshToolsService"],mixins:[ce.getByName("notification")],data:function(){return{items:null,showResetModal:!1,isLoading:!0}},created:function(){this.createdComponent()},computed:{scheduledRepository:function(){return this.repositoryFactory.create("scheduled_task")},columns:function(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0},{property:"runInterval",label:"frosh-tools.interval",rawData:!0,inlineEdit:"number"},{property:"lastExecutionTime",label:"frosh-tools.lastExecutionTime",rawData:!0},{property:"nextExecutionTime",label:"frosh-tools.nextExecutionTime",rawData:!0,inlineEdit:"datetime"},{property:"status",label:"frosh-tools.status",rawData:!0}]}},methods:{refresh:function(){var e=this;return oe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.createdComponent();case 3:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return oe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new le).addSorting(le.sort("nextExecutionTime","ASC")),t.next=4,e.scheduledRepository.search(n,Shopware.Context.api);case 4:e.items=t.sent,e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},runTask:function(e){var t=this;return oe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.prev=1,t.createNotificationInfo({message:t.$tc("frosh-tools.scheduledTaskStarted",0,{name:e.name})}),n.next=5,t.froshToolsService.runScheduledTask(e.id);case 5:t.createNotificationSuccess({message:t.$tc("frosh-tools.scheduledTaskSucceed",0,{name:e.name})}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.createNotificationError({message:t.$tc("frosh-tools.scheduledTaskFailed",0,{name:e.name})});case 11:t.createdComponent();case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}});var ue=n("g7P1"),fe=n.n(ue);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){de(o,r,a,i,s,"next",e)}function s(e){de(o,r,a,i,s,"throw",e)}i(void 0)}))}}var me=Shopware,ve=me.Mixin;me.Component.register("frosh-tools-tab-elasticsearch",{template:fe.a,inject:["froshElasticSearch"],mixins:[ve.getByName("notification")],data:function(){return{isLoading:!0,isActive:!0,statusInfo:{},indices:[],consoleInput:"GET /_cat/indices",consoleOutput:{}}},computed:{columns:function(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0},{property:"indexSize",label:"frosh-tools.size",rawData:!0,primary:!0},{property:"docs",label:"frosh-tools.docs",rawData:!0,primary:!0}]}},created:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.createdComponent();case 1:case"end":return t.stop()}}),t)})))()},methods:{createdComponent:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.froshElasticSearch.status();case 4:e.statusInfo=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),e.isActive=!1,e.isLoading=!1,t.abrupt("return");case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:return t.next=17,e.froshElasticSearch.indices();case 17:e.indices=t.sent;case 18:case"end":return t.stop()}}),t,null,[[1,7,12,15]])})))()},formatSize:function(e){var t=1024;if(Math.abs(e)<t)return e+" B";var n=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],r=-1,a=Math.pow(10,1);do{e/=t,++r}while(Math.round(Math.abs(e)*a)/a>=t&&r<n.length-1);return e.toFixed(1)+" "+n[r]},deleteIndex:function(e){var t=this;return ge(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.froshElasticSearch.deleteIndex(e);case 2:return n.next=4,t.createdComponent();case 4:case"end":return n.stop()}}),n)})))()},onConsoleEnter:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.consoleInput.split("\n"),r=n.shift(),a=n.join("\n").trim(),o=r.split(" "),i=he(o,2),s=i[0],c=i[1],t.prev=4,t.next=7,e.froshElasticSearch.console(s,c,a);case 7:e.consoleOutput=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e.consoleOutput=t.t0.response.data;case 13:case"end":return t.stop()}}),t,null,[[4,10]])})))()},reindex:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshElasticSearch.reindex();case 2:return e.createNotificationSuccess({message:e.$tc("global.default.success")}),t.next=5,e.createdComponent();case 5:case"end":return t.stop()}}),t)})))()},switchAlias:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshElasticSearch.switchAlias();case 2:return e.createNotificationSuccess({message:e.$tc("global.default.success")}),t.next=5,e.createdComponent();case 5:case"end":return t.stop()}}),t)})))()},flushAll:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshElasticSearch.flushAll();case 2:return e.createNotificationSuccess({message:e.$tc("global.default.success")}),t.next=5,e.createdComponent();case 5:case"end":return t.stop()}}),t)})))()},resetElasticsearch:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshElasticSearch.reset();case 2:return e.createNotificationSuccess({message:e.$tc("global.default.success")}),t.next=5,e.createdComponent();case 5:case"end":return t.stop()}}),t)})))()},cleanup:function(){var e=this;return ge(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshElasticSearch.cleanup();case 2:return e.createNotificationSuccess({message:e.$tc("global.default.success")}),t.next=5,e.createdComponent();case 5:case"end":return t.stop()}}),t)})))()}}});var we=n("L68r"),be=n.n(we);n("ZztD");function ye(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ye(o,r,a,i,s,"next",e)}function s(e){ye(o,r,a,i,s,"throw",e)}i(void 0)}))}}var _e=Shopware,Se=_e.Component,ke=_e.Mixin;Se.register("frosh-tools-tab-logs",{template:be.a,inject:["froshToolsService"],mixins:[ke.getByName("notification")],data:function(){return{logFiles:[],selectedLogFile:null,logEntries:[],totalLogEntries:0,limit:25,page:1,isLoading:!0}},created:function(){this.createdComponent()},computed:{columns:function(){return[{property:"date",label:"frosh-tools.date",rawData:!0},{property:"channel",label:"frosh-tools.channel",rawData:!0},{property:"level",label:"frosh-tools.level",rawData:!0},{property:"message",label:"frosh-tools.message",rawData:!0}]}},methods:{refresh:function(){var e=this;return xe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.createdComponent();case 3:return t.next=5,e.onFileSelected();case 5:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return xe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.getLogFiles();case 2:e.logFiles=t.sent,e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},onFileSelected:function(){var e=this;return xe(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedLogFile){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.froshToolsService.getLogFile(e.selectedLogFile,(e.page-1)*e.limit,e.limit);case 4:n=t.sent,e.logEntries=n.data,e.totalLogEntries=parseInt(n.headers["file-size"]);case 7:case"end":return t.stop()}}),t)})))()},onPageChange:function(e){var t=this;return xe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.page=e.page,t.limit=e.limit,n.next=4,t.onFileSelected();case 4:case"end":return n.stop()}}),n)})))()}}});var Re=n("9edp"),Ce=n.n(Re),Ae=n("yP6F"),Me=n.n(Ae);function De(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,s,"next",e)}function s(e){De(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Ee=Shopware,Pe=Ee.Component,Le=Ee.Mixin;Pe.register("frosh-tools-tab-files",{template:Ce.a,inject:["repositoryFactory","froshToolsService"],mixins:[Le.getByName("notification")],data:function(){return{items:{},isLoading:!0,diffData:{html:"",file:""},showModal:!1}},created:function(){this.createdComponent()},computed:{columns:function(){return[{property:"name",label:"frosh-tools.name",rawData:!0,primary:!0}]},isLoadingClass:function(){return{"is-loading":this.isLoading}}},methods:{refresh:function(){var e=this;return Te(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.createdComponent();case 3:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return Te(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.froshToolsService.getShopwareFiles();case 2:e.items=t.sent.data,e.isLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},openUrl:function(e){window.open(e,"_blank")},diff:function(e,t,n){var r=new Me.a,a=r.diff_main(n,t);r.diff_cleanupSemantic(a),this.diffData.html=r.diff_prettyHtml(a).replace(new RegExp("background:#e6ffe6;","g"),"background:#ABF2BC;").replace(new RegExp("background:#ffe6e6;","g"),"background:rgba(255,129,130,0.4);"),this.diffData.file=e,this.openModal()},restoreFile:function(e){var t=this;return Te(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.closeModal(),t.isLoading=!0,n.next=4,t.froshToolsService.restoreShopwareFile(e);case 4:return(r=n.sent).data.status?t.createNotificationSuccess({message:r.data.status}):t.createNotificationError({message:r.data.error}),n.next=8,t.refresh();case 8:case"end":return n.stop()}}),n)})))()},openModal:function(){this.showModal=!0},closeModal:function(){this.showModal=!1}}});var Oe=n("VFiF"),Be=n.n(Oe);n("r93a");function je(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){je(o,r,a,i,s,"next",e)}function s(e){je(o,r,a,i,s,"throw",e)}i(void 0)}))}}var Ie=Shopware,$e=Ie.Component,Ne=Ie.Mixin;$e.register("frosh-tools-tab-feature-flags",{template:Be.a,inject:["froshToolsService"],mixins:[Ne.getByName("notification")],data:function(){return{featureFlags:null,isLoading:!0}},created:function(){var e=this;return Fe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.createdComponent();case 1:case"end":return t.stop()}}),t)})))()},computed:{columns:function(){return[{property:"flag",label:"frosh-tools.tabs.feature-flags.flag",rawData:!0},{property:"active",label:"frosh-tools.active",rawData:!0},{property:"description",label:"frosh-tools.tabs.feature-flags.description",rawData:!0},{property:"major",label:"frosh-tools.tabs.feature-flags.major",rawData:!0},{property:"default",label:"frosh-tools.tabs.feature-flags.default",rawData:!0}]}},methods:{refresh:function(){var e=this;return Fe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.createdComponent();case 2:case"end":return t.stop()}}),t)})))()},createdComponent:function(){var e=this;return Fe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.froshToolsService.getFeatureFlags();case 3:e.featureFlags=t.sent,e.isLoading=!1;case 5:case"end":return t.stop()}}),t)})))()},toggle:function(e){var t=this;return Fe(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,t.froshToolsService.toggleFeatureFlag(e).then(Fe(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.froshToolsService.getFeatureFlags();case 2:t.featureFlags=e.sent,window.location.reload();case 4:case"end":return e.stop()}}),e)})))).catch((function(e){try{t.createNotificationError({message:e.response.data.errors[0].detail})}catch(t){console.error(e)}t.isLoading=!1}));case 3:case"end":return n.stop()}}),n)})))()}}});n("eiAg");var He=n("KSFN"),Ue=n.n(He);Shopware.Component.register("frosh-tools-index",{template:Ue.a}),Shopware.Module.register("frosh-tools",{type:"plugin",name:"frosh-tools.title",title:"frosh-tools.title",description:"",color:"#303A4F",icon:"default-device-dashboard",routes:{index:{component:"frosh-tools-index",path:"index",children:{index:{component:"frosh-tools-tab-index",path:"index",meta:{parentPath:"frosh.tools.index"}},cache:{component:"frosh-tools-tab-cache",path:"cache",meta:{parentPath:"frosh.tools.index"}},queue:{component:"frosh-tools-tab-queue",path:"queue",meta:{parentPath:"frosh.tools.index"}},scheduled:{component:"frosh-tools-tab-scheduled",path:"scheduled",meta:{parentPath:"frosh.tools.index"}},elasticsearch:{component:"frosh-tools-tab-elasticsearch",path:"elasticsearch",meta:{parentPath:"frosh.tools.index"}},logs:{component:"frosh-tools-tab-logs",path:"logs",meta:{parentPath:"frosh.tools.index"}},files:{component:"frosh-tools-tab-files",path:"files",meta:{parentPath:"frosh.tools.index"}},featureflags:{component:"frosh-tools-tab-feature-flags",path:"feature-flags",meta:{parentPath:"frosh.tools.index"}}}}},settingsItem:[{group:"plugins",to:"frosh.tools.index.cache",icon:"default-action-settings",name:"frosh-tools.title"}]})},KSFN:function(e,t){e.exports="<sw-page class=\"frosh-tools\">\n    <template slot=\"content\">\n        <sw-container>\n            <sw-tabs :small=\"false\">\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.index' }\">\n                    {{ $tc('frosh-tools.tabs.index.title') }}\n                </sw-tabs-item>\n\n{#                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.index' }\">#}\n{#                    {{ $tc('frosh-tools.tabs.systemInfo.title') }}#}\n{#                </sw-tabs-item>#}\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.cache' }\">\n                    {{ $tc('frosh-tools.tabs.cache.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.scheduled' }\">\n                    {{ $tc('frosh-tools.tabs.scheduledTaskOverview.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.queue' }\">\n                    {{ $tc('frosh-tools.tabs.queue.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.logs' }\">\n                    {{ $tc('frosh-tools.tabs.logs.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.files' }\">\n                    {{ $tc('frosh-tools.tabs.files.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.elasticsearch' }\">\n                    {{ $tc('frosh-tools.tabs.elasticsearch.title') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item :route=\"{ name: 'frosh.tools.index.featureflags' }\">\n                    {{ $tc('frosh-tools.tabs.feature-flags.title') }}\n                </sw-tabs-item>\n\n            </sw-tabs>\n        </sw-container>\n\n        <router-view></router-view>\n    </template>\n</sw-page>\n"},L68r:function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-logs__logs-card" :title="$tc(\'frosh-tools.tabs.logs.title\')" :isLoading="isLoading" :large="true">\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n            <sw-single-select\n                :options="logFiles"\n                :isLoading="isLoading"\n                :placeholder="$tc(\'frosh-tools.tabs.logs.logFileSelect.placeholder\')"\n                labelProperty="name"\n                valueProperty="name"\n                v-model="selectedLogFile"\n                @change="onFileSelected"\n            ></sw-single-select>\n        </template>\n\n        <sw-data-grid\n            :showSelection="false"\n            :showActions="false"\n            :dataSource="logEntries"\n            :columns="columns">\n            <template slot="column-date" slot-scope="{ item }">\n                {{ item.date | date({hour: \'2-digit\', minute: \'2-digit\', second: \'2-digit\'}) }}\n            </template>\n        </sw-data-grid>\n\n        <sw-pagination\n            :total="totalLogEntries"\n            :limit="limit"\n            :page="page"\n            @page-change="onPageChange"\n        ></sw-pagination>\n    </sw-card>\n</sw-card-view>\n'},NNZ9:function(e,t,n){var r=n("c7Mz");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("6926f2f8",r,!0,{})},RJE7:function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-index__health-card" :isLoading="isLoading" :large="true">\n\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh">\n                <sw-icon :small="true" name="default-arrow-360-left"></sw-icon>\n            </sw-button>\n        </template>\n\n        <sw-card class="frosh-tools-tab-index__health-card" :title="$tc(\'frosh-tools.tabs.index.title\')" :large="true">\n            <sw-data-grid\n                v-if="health"\n                :showSelection="false"\n                :showActions="false"\n                :dataSource="health"\n                :columns="columns">\n\n                <template #column-current="{ item }">\n                    {{ item.current }}\n                </template>\n\n                <template #column-name="{ item }">\n                    <template>\n                        <sw-label variant="success" appearance="pill" v-if="item.state === \'STATE_OK\'">\n                            {{ $tc(\'frosh-tools.good\') }}\n                        </sw-label>\n                        <sw-label variant="warning" appearance="pill" v-if="item.state === \'STATE_WARNING\'">\n                            {{ $tc(\'frosh-tools.warning\') }}\n                        </sw-label>\n                        <sw-label variant="danger" appearance="pill" v-if="item.state === \'STATE_ERROR\'">\n                            {{ $tc(\'frosh-tools.error\') }}\n                        </sw-label>\n                    </template>\n\n                    <template v-if="item.url">\n                        <a :href="item.url" target="_blank">{{ $tc(item.snippet) }}</a>\n                    </template>\n                    <template v-else>{{ $tc(item.snippet) }}</template>\n                </template>\n            </sw-data-grid>\n        </sw-card>\n\n        <sw-card class="frosh-tools-tab-index__health-card" :title="$tc(\'frosh-tools.tabs.index.performance\')" :large="true">\n            <sw-data-grid\n                v-if="performanceStatus"\n                :showSelection="false"\n                :showActions="false"\n                :dataSource="performanceStatus"\n                :columns="columns">\n\n                <template #column-current="{ item }">\n                    {{ item.current }}\n                </template>\n\n                <template #column-name="{ item }">\n                    <template>\n                        <sw-label variant="success" appearance="pill" v-if="item.state === \'STATE_OK\'">\n                            {{ $tc(\'frosh-tools.good\') }}\n                        </sw-label>\n                        <sw-label variant="warning" appearance="pill" v-if="item.state === \'STATE_WARNING\'">\n                            {{ $tc(\'frosh-tools.warning\') }}\n                        </sw-label>\n                        <sw-label variant="danger" appearance="pill" v-if="item.state === \'STATE_ERROR\'">\n                            {{ $tc(\'frosh-tools.error\') }}\n                        </sw-label>\n                    </template>\n\n                    <template v-if="item.url">\n                        <a :href="item.url" target="_blank">{{ $tc(item.snippet) }}</a>\n                    </template>\n                    <template v-else>{{ $tc(item.snippet) }}</template>\n                </template>\n            </sw-data-grid>\n        </sw-card>\n    </sw-card>\n</sw-card-view>\n'},SZ7m:function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},a=0;a<t.length;a++){var o=t[a],i=o[0],s={id:e+":"+a,css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return d}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=a&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,u=function(){},f=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function d(e,t,n,a){l=n,f=a||{};var i=r(e,t);return g(i),function(t){for(var n=[],a=0;a<i.length;a++){var s=i[a];(c=o[s.id]).refs--,n.push(c)}t?g(i=r(e,t)):i=[];for(a=0;a<n.length;a++){var c;if(0===(c=n[a]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function g(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(v(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(a=0;a<n.parts.length;a++)i.push(v(n.parts[a]));o[n.id]={id:n.id,refs:1,parts:i}}}}function m(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+h+'~="'+e.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(p){var a=c++;r=s||(s=m()),t=y.bind(null,r,a,!1),n=y.bind(null,r,a,!0)}else r=m(),t=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var w,b=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function y(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function x(e,t){var n=t.css,r=t.media,a=t.sourceMap;if(r&&e.setAttribute("media",r),f.ssrId&&e.setAttribute(h,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},UsKV:function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-queue__manager-card" :title="$tc(\'frosh-tools.tabs.queue.title\')" :isLoading="isLoading" :large="true">\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-data-grid\n            :showSelection="false"\n            :dataSource="queueEntries"\n            :columns="columns"\n        >\n        </sw-data-grid>\n    </sw-card>\n\n    <sw-card class="frosh-tools-tab-queue__action-card" title="Actions" :large="true">\n        <sw-button variant="danger" @click="showResetModal = true">{{ $tc(\'frosh-tools.resetQueue\') }}</sw-button>\n    </sw-card>\n\n    <sw-modal v-if="showResetModal" title="Reset Queue" variant="small" @modal-close="showResetModal = false">\n        Resetting Queue will remove all outgoing tasks.\n\n        <template #modal-footer>\n            <sw-button @click="showResetModal = false">Cancel</sw-button>\n            <sw-button variant="danger" @click="resetQueue">Reset</sw-button>\n        </template>\n    </sw-modal>\n</sw-card-view>\n'},VFiF:function(e,t){e.exports='<sw-card-view>\n    <sw-card\n        class="frosh-tools-tab-feature-flags__feature-flags-card"\n        :title="$tc(\'frosh-tools.tabs.feature-flags.title\')"\n        :isLoading="isLoading"\n        :large="true"\n    >\n\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-data-grid\n            :showSelection="false"\n            :dataSource="featureFlags"\n            :columns="columns"\n        >\n            <template #column-active="{ item }">\n                <sw-icon\n                    v-if="item.active"\n                    color="#37d046"\n                    name="small-default-checkmark-line-medium"\n                    small\n                />\n                <sw-icon\n                    v-else\n                    color="#de294c"\n                    name="small-default-x-line-medium"\n                    small\n                />\n            </template>\n\n            <template #column-major="{ item }">\n                <sw-icon\n                    v-if="item.major"\n                    color="#37d046"\n                    name="small-default-checkmark-line-medium"\n                    small\n                />\n                <sw-icon\n                    v-else\n                    color="#de294c"\n                    name="small-default-x-line-medium"\n                    small\n                />\n            </template>\n\n            <template #column-default="{ item }">\n                <sw-icon\n                    v-if="item.default"\n                    color="#37d046"\n                    name="small-default-checkmark-line-medium"\n                    small\n                />\n                <sw-icon\n                    v-else\n                    color="#de294c"\n                    name="small-default-x-line-medium"\n                    small\n                />\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item variant="danger" @click="toggle(item.flag)">\n                    <template v-if="item.active">\n                        {{ $tc(\'frosh-tools.tabs.feature-flags.deactivate\') }}\n                    </template>\n                    <template v-else>\n                        {{ $tc(\'frosh-tools.tabs.feature-flags.activate\') }}\n                    </template>\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </sw-card>\n</sw-card-view>\n'},ZztD:function(e,t,n){var r=n("+9UQ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("fe26b4da",r,!0,{})},bWis:function(e,t,n){},c7Mz:function(e,t,n){},cLQT:function(e,t){e.exports='<sw-card-view>\n    <sw-card class="frosh-tools-tab-scheduled__tasks-card" :title="$tc(\'frosh-tools.tabs.scheduledTaskOverview.title\')" :isLoading="isLoading" :large="true">\n\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="refresh"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-entity-listing\n            :showSelection="false"\n            :fullPage="false"\n            :allowInlineEdit="true"\n            :allowEdit="false"\n            :allowDelete="false"\n            :showActions="true"\n            :repository="scheduledRepository"\n            :items="items"\n            :columns="columns">\n\n            <template #column-lastExecutionTime="{ item }">\n                {{ item.lastExecutionTime | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n            </template>\n            <template #column-nextExecutionTime="{ item, column, compact, isInlineEdit }">\n                <sw-data-grid-inline-edit\n                    v-if="isInlineEdit"\n                    :column="column"\n                    :compact="compact"\n                    :value="item[column.property]"\n                    @input="item[column.property] = $event">\n                </sw-data-grid-inline-edit>\n\n                <span v-else>\n                     {{ item.nextExecutionTime | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </span>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item variant="primary" @click="runTask(item)">\n                    {{ $tc(\'frosh-tools.runManually\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-entity-listing>\n    </sw-card>\n</sw-card-view>\n'},eiAg:function(e,t,n){var r=n("7AKr");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("9ee2687e",r,!0,{})},g7P1:function(e,t){e.exports='<sw-card-view>\n    <sw-card :title="$tc(\'frosh-tools.tabs.elasticsearch.title\')" :large="true" :isLoading="isLoading">\n        <sw-alert variant="error" v-if="!isLoading && !isActive">Elasticsearch is not enabled</sw-alert>\n\n        <div v-if="!isLoading && isActive">\n            <div><strong>Elasticsearch version: </strong> {{ statusInfo.info.version.number }}</div>\n            <div><strong>Nodes: </strong> {{ statusInfo.health.number_of_nodes }}</div>\n            <div><strong>Cluster status: </strong> {{ statusInfo.health.status }}</div>\n        </div>\n    </sw-card>\n\n    <sw-card title="Indices" v-if="!isLoading && isActive" :large="true">\n        <template #toolbar>\n            \x3c!-- @todo: Make the refresh button fancy --\x3e\n            <sw-button variant="ghost" @click="createdComponent"><sw-icon :small="true" name="default-arrow-360-left"></sw-icon></sw-button>\n        </template>\n\n        <sw-data-grid\n            v-if="indices"\n            :showSelection="false"\n            :dataSource="indices"\n            :columns="columns">\n\n            <template #column-name="{ item }">\n                <sw-label variant="primary" appearance="pill" v-if="item.aliases.length">\n                    {{ $tc(\'frosh-tools.active\') }}\n                </sw-label>\n\n                {{ item.name }}<br>\n            </template>\n\n            <template #column-indexSize="{ item }">\n                {{ formatSize(item.indexSize) }}<br>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item variant="danger" @click="deleteIndex(item.name)">\n                    {{ $tc(\'frosh-tools.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n    </sw-card>\n\n    <sw-card title="Actions" v-if="!isLoading && isActive" :large="true">\n        <sw-button @click="reindex" variant="primary">Reindex</sw-button>\n        <sw-button @click="switchAlias">Trigger alias switching</sw-button>\n        <sw-button @click="flushAll">Flush all indices</sw-button>\n\n        <sw-button @click="cleanup">Cleanup unused Indices</sw-button>\n        <sw-button @click="resetElasticsearch" variant="danger">Delete all indices</sw-button>\n    </sw-card>\n\n    <sw-card title="Elasticsearch Console" v-if="!isLoading && isActive" :large="true">\n        <sw-code-editor\n            completionMode="text"\n            mode="twig"\n            :softWraps="true"\n            :setFocus="false"\n            :disabled="false"\n            :sanitizeInput="false"\n            v-model="consoleInput"\n        ></sw-code-editor>\n\n        <sw-button @click="onConsoleEnter">Send</sw-button>\n\n        <div><strong>Output:</strong></div>\n\n        <pre>{{ consoleOutput }}</pre>\n    </sw-card>\n</sw-card-view>\n'},lnCV:function(e,t,n){},pFDU:function(e,t){e.exports='{% block sw_version_status %}\n    <router-link\n        :to="{ name: \'frosh.tools.index.index\' }"\n        class="sw-version__status"\n        v-tooltip="{\n            showDelay: 300,\n            message: healthPlaceholder\n        }"\n    >\n        {% block sw_version_status_badge %}\n            <sw-color-badge v-if="health" :variant="healthVariant" :rounded="true"></sw-color-badge>\n        {% endblock %}\n    </router-link>\n{% endblock %}\n'},r93a:function(e,t,n){var r=n("56Dd");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n("SZ7m").default)("7d34acb4",r,!0,{})},yP6F:function(e,t){var n=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;n.Diff=function(e,t){return[e,t]},n.prototype.diff_main=function(e,t,r,a){void 0===a&&(a=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=a;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[new n.Diff(0,e)]:[];void 0===r&&(r=!0);var i=r,s=this.diff_commonPrefix(e,t),c=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=this.diff_commonSuffix(e,t);var l=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var u=this.diff_compute_(e,t,i,o);return c&&u.unshift(new n.Diff(0,c)),l&&u.push(new n.Diff(0,l)),this.diff_cleanupMerge(u),u},n.prototype.diff_compute_=function(e,t,a,o){var i;if(!e)return[new n.Diff(1,t)];if(!t)return[new n.Diff(r,e)];var s=e.length>t.length?e:t,c=e.length>t.length?t:e,l=s.indexOf(c);if(-1!=l)return i=[new n.Diff(1,s.substring(0,l)),new n.Diff(0,c),new n.Diff(1,s.substring(l+c.length))],e.length>t.length&&(i[0][0]=i[2][0]=r),i;if(1==c.length)return[new n.Diff(r,e),new n.Diff(1,t)];var u=this.diff_halfMatch_(e,t);if(u){var f=u[0],h=u[1],p=u[2],d=u[3],g=u[4],m=this.diff_main(f,p,a,o),v=this.diff_main(h,d,a,o);return m.concat([new n.Diff(0,g)],v)}return a&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,o):this.diff_bisect_(e,t,o)},n.prototype.diff_lineMode_=function(e,t,a){var o=this.diff_linesToChars_(e,t);e=o.chars1,t=o.chars2;var i=o.lineArray,s=this.diff_main(e,t,!1,a);this.diff_charsToLines_(s,i),this.diff_cleanupSemantic(s),s.push(new n.Diff(0,""));for(var c=0,l=0,u=0,f="",h="";c<s.length;){switch(s[c][0]){case 1:u++,h+=s[c][1];break;case r:l++,f+=s[c][1];break;case 0:if(l>=1&&u>=1){s.splice(c-l-u,l+u),c=c-l-u;for(var p=this.diff_main(f,h,!1,a),d=p.length-1;d>=0;d--)s.splice(c,0,p[d]);c+=p.length}u=0,l=0,f="",h=""}c++}return s.pop(),s},n.prototype.diff_bisect_=function(e,t,a){for(var o=e.length,i=t.length,s=Math.ceil((o+i)/2),c=s,l=2*s,u=new Array(l),f=new Array(l),h=0;h<l;h++)u[h]=-1,f[h]=-1;u[c+1]=0,f[c+1]=0;for(var p=o-i,d=p%2!=0,g=0,m=0,v=0,w=0,b=0;b<s&&!((new Date).getTime()>a);b++){for(var y=-b+g;y<=b-m;y+=2){for(var x=c+y,_=(A=y==-b||y!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-y;A<o&&_<i&&e.charAt(A)==t.charAt(_);)A++,_++;if(u[x]=A,A>o)m+=2;else if(_>i)g+=2;else if(d){if((R=c+p-y)>=0&&R<l&&-1!=f[R])if(A>=(k=o-f[R]))return this.diff_bisectSplit_(e,t,A,_,a)}}for(var S=-b+v;S<=b-w;S+=2){for(var k,R=c+S,C=(k=S==-b||S!=b&&f[R-1]<f[R+1]?f[R+1]:f[R-1]+1)-S;k<o&&C<i&&e.charAt(o-k-1)==t.charAt(i-C-1);)k++,C++;if(f[R]=k,k>o)w+=2;else if(C>i)v+=2;else if(!d){if((x=c+p-S)>=0&&x<l&&-1!=u[x]){var A;_=c+(A=u[x])-x;if(A>=(k=o-k))return this.diff_bisectSplit_(e,t,A,_,a)}}}}return[new n.Diff(r,e),new n.Diff(1,t)]},n.prototype.diff_bisectSplit_=function(e,t,n,r,a){var o=e.substring(0,n),i=t.substring(0,r),s=e.substring(n),c=t.substring(r),l=this.diff_main(o,i,!1,a),u=this.diff_main(s,c,!1,a);return l.concat(u)},n.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function a(e){for(var t="",a=0,i=-1,s=n.length;i<e.length-1;){-1==(i=e.indexOf("\n",a))&&(i=e.length-1);var c=e.substring(a,i+1);(r.hasOwnProperty?r.hasOwnProperty(c):void 0!==r[c])?t+=String.fromCharCode(r[c]):(s==o&&(c=e.substring(a),i=e.length),t+=String.fromCharCode(s),r[c]=s,n[s++]=c),a=i+1}return t}n[0]="";var o=4e4,i=a(e);return o=65535,{chars1:i,chars2:a(t),lineArray:n}},n.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],a=[],o=0;o<r.length;o++)a[o]=t[r.charCodeAt(o)];e[n][1]=a.join("")}},n.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,o=0;n<a;)e.substring(o,a)==t.substring(o,a)?o=n=a:r=a,a=Math.floor((r-n)/2+n);return a},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),a=r,o=0;n<a;)e.substring(e.length-a,e.length-o)==t.substring(t.length-a,t.length-o)?o=n=a:r=a,a=Math.floor((r-n)/2+n);return a},n.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var a=Math.min(n,r);if(e==t)return a;for(var o=0,i=1;;){var s=e.substring(a-i),c=t.indexOf(s);if(-1==c)return o;i+=c,0!=c&&e.substring(a-i)!=t.substring(0,i)||(o=i,i++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var a=this;function o(e,t,n){for(var r,o,i,s,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,u="";-1!=(l=t.indexOf(c,l+1));){var f=a.diff_commonPrefix(e.substring(n),t.substring(l)),h=a.diff_commonSuffix(e.substring(0,n),t.substring(0,l));u.length<h+f&&(u=t.substring(l-h,l)+t.substring(l,l+f),r=e.substring(0,n-h),o=e.substring(n+f),i=t.substring(0,l-h),s=t.substring(l+f))}return 2*u.length>=e.length?[r,o,i,s,u]:null}var i,s,c,l,u,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(i=h?f&&f[4].length>h[4].length?f:h:f,e.length>t.length?(s=i[0],c=i[1],l=i[2],u=i[3]):(l=i[0],u=i[1],s=i[2],c=i[3]),[s,c,l,u,i[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,a=[],o=0,i=null,s=0,c=0,l=0,u=0,f=0;s<e.length;)0==e[s][0]?(a[o++]=s,c=u,l=f,u=0,f=0,i=e[s][1]):(1==e[s][0]?u+=e[s][1].length:f+=e[s][1].length,i&&i.length<=Math.max(c,l)&&i.length<=Math.max(u,f)&&(e.splice(a[o-1],0,new n.Diff(r,i)),e[a[o-1]+1][0]=1,o--,s=--o>0?a[o-1]:-1,c=0,l=0,u=0,f=0,i=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]==r&&1==e[s][0]){var h=e[s-1][1],p=e[s][1],d=this.diff_commonOverlap_(h,p),g=this.diff_commonOverlap_(p,h);d>=g?(d>=h.length/2||d>=p.length/2)&&(e.splice(s,0,new n.Diff(0,p.substring(0,d))),e[s-1][1]=h.substring(0,h.length-d),e[s+1][1]=p.substring(d),s++):(g>=h.length/2||g>=p.length/2)&&(e.splice(s,0,new n.Diff(0,h.substring(0,g))),e[s-1][0]=1,e[s-1][1]=p.substring(0,p.length-g),e[s+1][0]=r,e[s+1][1]=h.substring(g),s++),s++}s++}},n.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),a=t.charAt(0),o=r.match(n.nonAlphaNumericRegex_),i=a.match(n.nonAlphaNumericRegex_),s=o&&r.match(n.whitespaceRegex_),c=i&&a.match(n.whitespaceRegex_),l=s&&r.match(n.linebreakRegex_),u=c&&a.match(n.linebreakRegex_),f=l&&e.match(n.blanklineEndRegex_),h=u&&t.match(n.blanklineStartRegex_);return f||h?5:l||u?4:o&&!s&&c?3:s||c?2:o||i?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var a=e[r-1][1],o=e[r][1],i=e[r+1][1],s=this.diff_commonSuffix(a,o);if(s){var c=o.substring(o.length-s);a=a.substring(0,a.length-s),o=c+o.substring(0,o.length-s),i=c+i}for(var l=a,u=o,f=i,h=t(a,o)+t(o,i);o.charAt(0)===i.charAt(0);){a+=o.charAt(0),o=o.substring(1)+i.charAt(0),i=i.substring(1);var p=t(a,o)+t(o,i);p>=h&&(h=p,l=a,u=o,f=i)}e[r-1][1]!=l&&(l?e[r-1][1]=l:(e.splice(r-1,1),r--),e[r][1]=u,f?e[r+1][1]=f:(e.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,a=[],o=0,i=null,s=0,c=!1,l=!1,u=!1,f=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(u||f)?(a[o++]=s,c=u,l=f,i=e[s][1]):(o=0,i=null),u=f=!1):(e[s][0]==r?f=!0:u=!0,i&&(c&&l&&u&&f||i.length<this.Diff_EditCost/2&&c+l+u+f==3)&&(e.splice(a[o-1],0,new n.Diff(r,i)),e[a[o-1]+1][0]=1,o--,i=null,c&&l?(u=f=!0,o=0):(s=--o>0?a[o-1]:-1,u=f=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push(new n.Diff(0,""));for(var t,a=0,o=0,i=0,s="",c="";a<e.length;)switch(e[a][0]){case 1:i++,c+=e[a][1],a++;break;case r:o++,s+=e[a][1],a++;break;case 0:o+i>1?(0!==o&&0!==i&&(0!==(t=this.diff_commonPrefix(c,s))&&(a-o-i>0&&0==e[a-o-i-1][0]?e[a-o-i-1][1]+=c.substring(0,t):(e.splice(0,0,new n.Diff(0,c.substring(0,t))),a++),c=c.substring(t),s=s.substring(t)),0!==(t=this.diff_commonSuffix(c,s))&&(e[a][1]=c.substring(c.length-t)+e[a][1],c=c.substring(0,c.length-t),s=s.substring(0,s.length-t))),a-=o+i,e.splice(a,o+i),s.length&&(e.splice(a,0,new n.Diff(r,s)),a++),c.length&&(e.splice(a,0,new n.Diff(1,c)),a++),a++):0!==a&&0==e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,i=0,o=0,s="",c=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(a=1;a<e.length-1;)0==e[a-1][0]&&0==e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)==e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),l=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),l=!0)),a++;l&&this.diff_cleanupMerge(e)},n.prototype.diff_xIndex=function(e,t){var n,a=0,o=0,i=0,s=0;for(n=0;n<e.length&&(1!==e[n][0]&&(a+=e[n][1].length),e[n][0]!==r&&(o+=e[n][1].length),!(a>t));n++)i=a,s=o;return e.length!=n&&e[n][0]===r?s:s+(t-i)},n.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,a=/</g,o=/>/g,i=/\n/g,s=0;s<e.length;s++){var c=e[s][0],l=e[s][1].replace(n,"&amp;").replace(a,"&lt;").replace(o,"&gt;").replace(i,"&para;<br>");switch(c){case 1:t[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case r:t[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:t[s]="<span>"+l+"</span>"}}return t.join("")},n.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},n.prototype.diff_levenshtein=function(e){for(var t=0,n=0,a=0,o=0;o<e.length;o++){var i=e[o][0],s=e[o][1];switch(i){case 1:n+=s.length;break;case r:a+=s.length;break;case 0:t+=Math.max(n,a),n=0,a=0}}return t+=Math.max(n,a)},n.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(e,t){for(var a=[],o=0,i=0,s=t.split(/\t/g),c=0;c<s.length;c++){var l=s[c].substring(1);switch(s[c].charAt(0)){case"+":try{a[o++]=new n.Diff(1,decodeURI(l))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var u=parseInt(l,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+l);var f=e.substring(i,i+=u);"="==s[c].charAt(0)?a[o++]=new n.Diff(0,f):a[o++]=new n.Diff(r,f);break;default:if(s[c])throw new Error("Invalid diff operation in diff_fromDelta: "+s[c])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return a},n.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},n.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),a=this;function o(e,r){var o=e/t.length,i=Math.abs(n-r);return a.Match_Distance?o+i/a.Match_Distance:i?1:o}var i=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(i=Math.min(o(0,s),i),-1!=(s=e.lastIndexOf(t,n+t.length))&&(i=Math.min(o(0,s),i)));var c,l,u=1<<t.length-1;s=-1;for(var f,h=t.length+e.length,p=0;p<t.length;p++){for(c=0,l=h;c<l;)o(p,n+l)<=i?c=l:h=l,l=Math.floor((h-c)/2+c);h=l;var d=Math.max(1,n-l+1),g=Math.min(n+l,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<p)-1;for(var v=g;v>=d;v--){var w=r[e.charAt(v-1)];if(m[v]=0===p?(m[v+1]<<1|1)&w:(m[v+1]<<1|1)&w|(f[v+1]|f[v])<<1|1|f[v+1],m[v]&u){var b=o(p,v-1);if(b<=i){if(i=b,!((s=v-1)>n))break;d=Math.max(1,2*n-s)}}}if(o(p+1,n)>i)break;f=m}return s},n.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},n.prototype.patch_addContext_=function(e,t){if(0!=t.length){if(null===e.start2)throw Error("patch not initialized");for(var r=t.substring(e.start2,e.start2+e.length1),a=0;t.indexOf(r)!=t.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,r=t.substring(e.start2-a,e.start2+e.length1+a);a+=this.Patch_Margin;var o=t.substring(e.start2-a,e.start2);o&&e.diffs.unshift(new n.Diff(0,o));var i=t.substring(e.start2+e.length1,e.start2+e.length1+a);i&&e.diffs.push(new n.Diff(0,i)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+i.length,e.length2+=o.length+i.length}},n.prototype.patch_make=function(e,t,a){var o,i;if("string"==typeof e&&"string"==typeof t&&void 0===a)o=e,(i=this.diff_main(o,t,!0)).length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&void 0===t&&void 0===a)i=e,o=this.diff_text1(i);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===a)o=e,i=t;else{if("string"!=typeof e||"string"!=typeof t||!a||"object"!=typeof a)throw new Error("Unknown call format to patch_make.");o=e,i=a}if(0===i.length)return[];for(var s=[],c=new n.patch_obj,l=0,u=0,f=0,h=o,p=o,d=0;d<i.length;d++){var g=i[d][0],m=i[d][1];switch(l||0===g||(c.start1=u,c.start2=f),g){case 1:c.diffs[l++]=i[d],c.length2+=m.length,p=p.substring(0,f)+m+p.substring(f);break;case r:c.length1+=m.length,c.diffs[l++]=i[d],p=p.substring(0,f)+p.substring(f+m.length);break;case 0:m.length<=2*this.Patch_Margin&&l&&i.length!=d+1?(c.diffs[l++]=i[d],c.length1+=m.length,c.length2+=m.length):m.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(c,h),s.push(c),c=new n.patch_obj,l=0,h=p,u=f)}1!==g&&(u+=m.length),g!==r&&(f+=m.length)}return l&&(this.patch_addContext_(c,h),s.push(c)),s},n.prototype.patch_deepCopy=function(e){for(var t=[],r=0;r<e.length;r++){var a=e[r],o=new n.patch_obj;o.diffs=[];for(var i=0;i<a.diffs.length;i++)o.diffs[i]=new n.Diff(a.diffs[i][0],a.diffs[i][1]);o.start1=a.start1,o.start2=a.start2,o.length1=a.length1,o.length2=a.length2,t[r]=o}return t},n.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var a=0,o=[],i=0;i<e.length;i++){var s,c,l=e[i].start2+a,u=this.diff_text1(e[i].diffs),f=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(t,u.substring(0,this.Match_MaxBits),l))&&(-1==(f=this.match_main(t,u.substring(u.length-this.Match_MaxBits),l+u.length-this.Match_MaxBits))||s>=f)&&(s=-1):s=this.match_main(t,u,l),-1==s)o[i]=!1,a-=e[i].length2-e[i].length1;else if(o[i]=!0,a=s-l,u==(c=-1==f?t.substring(s,s+u.length):t.substring(s,f+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[i].diffs)+t.substring(s+u.length);else{var h=this.diff_main(u,c,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(h)/u.length>this.Patch_DeleteThreshold)o[i]=!1;else{this.diff_cleanupSemanticLossless(h);for(var p,d=0,g=0;g<e[i].diffs.length;g++){var m=e[i].diffs[g];0!==m[0]&&(p=this.diff_xIndex(h,d)),1===m[0]?t=t.substring(0,s+p)+m[1]+t.substring(s+p):m[0]===r&&(t=t.substring(0,s+p)+t.substring(s+this.diff_xIndex(h,d+m[1].length))),m[0]!==r&&(d+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},n.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,r="",a=1;a<=t;a++)r+=String.fromCharCode(a);for(a=0;a<e.length;a++)e[a].start1+=t,e[a].start2+=t;var o=e[0],i=o.diffs;if(0==i.length||0!=i[0][0])i.unshift(new n.Diff(0,r)),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>i[0][1].length){var s=t-i[0][1].length;i[0][1]=r.substring(i[0][1].length)+i[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}if(0==(i=(o=e[e.length-1]).diffs).length||0!=i[i.length-1][0])i.push(new n.Diff(0,r)),o.length1+=t,o.length2+=t;else if(t>i[i.length-1][1].length){s=t-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s}return r},n.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,a=0;a<e.length;a++)if(!(e[a].length1<=t)){var o=e[a];e.splice(a--,1);for(var i=o.start1,s=o.start2,c="";0!==o.diffs.length;){var l=new n.patch_obj,u=!0;for(l.start1=i-c.length,l.start2=s-c.length,""!==c&&(l.length1=l.length2=c.length,l.diffs.push(new n.Diff(0,c)));0!==o.diffs.length&&l.length1<t-this.Patch_Margin;){var f=o.diffs[0][0],h=o.diffs[0][1];1===f?(l.length2+=h.length,s+=h.length,l.diffs.push(o.diffs.shift()),u=!1):f===r&&1==l.diffs.length&&0==l.diffs[0][0]&&h.length>2*t?(l.length1+=h.length,i+=h.length,u=!1,l.diffs.push(new n.Diff(f,h)),o.diffs.shift()):(h=h.substring(0,t-l.length1-this.Patch_Margin),l.length1+=h.length,i+=h.length,0===f?(l.length2+=h.length,s+=h.length):u=!1,l.diffs.push(new n.Diff(f,h)),h==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(h.length))}c=(c=this.diff_text2(l.diffs)).substring(c.length-this.Patch_Margin);var p=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==p&&(l.length1+=p.length,l.length2+=p.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=p:l.diffs.push(new n.Diff(0,p))),u||e.splice(++a,0,l)}}},n.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},n.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var a=e.split("\n"),o=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<a.length;){var s=a[o].match(i);if(!s)throw new Error("Invalid patch string: "+a[o]);var c=new n.patch_obj;for(t.push(c),c.start1=parseInt(s[1],10),""===s[2]?(c.start1--,c.length1=1):"0"==s[2]?c.length1=0:(c.start1--,c.length1=parseInt(s[2],10)),c.start2=parseInt(s[3],10),""===s[4]?(c.start2--,c.length2=1):"0"==s[4]?c.length2=0:(c.start2--,c.length2=parseInt(s[4],10)),o++;o<a.length;){var l=a[o].charAt(0);try{var u=decodeURI(a[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==l)c.diffs.push(new n.Diff(r,u));else if("+"==l)c.diffs.push(new n.Diff(1,u));else if(" "==l)c.diffs.push(new n.Diff(0,u));else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+u)}o++}}return t},(n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=n,e.exports.diff_match_patch=n,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},zeas:function(e,t){e.exports='{% block sw_data_grid_inline_edit_type_unknown %}\n    <sw-datepicker\n        v-else-if="column.inlineEdit === \'date\'"\n        dateType="date"\n        v-model="currentValue">\n    </sw-datepicker>\n\n    <sw-datepicker\n        v-else-if="column.inlineEdit === \'datetime\'"\n        dateType="datetime"\n        v-model="currentValue">\n    </sw-datepicker>\n\n    {% parent() %}\n{% endblock %}\n'}});
//# sourceMappingURL=frosh-tools.js.map